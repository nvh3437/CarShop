@model UserManage
@{
    ViewData["title"] = "Cập nhật User Role";
}

<div class="bg-light rounded p-4 me-4 mt-4">
    <h5 class="">Cập nhật User Role</h5>
    <h6 class="mb-4">@Model.UserName</h6>
    <form method="post" asp-action="ManageRole" asp-controller="User" asp-area="Manage">
        <div asp-validation-summary="All" class="text-danger"></div>
        <input asp-for="UserId" hidden/>
        <input asp-for="UserName" hidden/>
        <input asp-for="Role" hidden/>
        <fieldset class="mb-3">
            <legend asp-for="ListRole" class="form-label">Role</legend>
            @if(Model.ListRoles != null && Model.ListRoles.Count>0) 
            { 
                foreach (var role in Model.ListRoles)
                {
                    if (Model.Role != null && Model.Role.Contains(role))
                    {
                        <div class="form-check form-switch">
                            <input id="@role" name="ListRolesSelected" value="@role" class="form-check-input" checked type="checkbox">
                            <label class="form-check-label" for="@role">@role</label>
                        </div>
                    }
                    else
                    {
                        <div class="form-check form-switch">
                            <input id="@role" name="ListRolesSelected" value="@role" class="form-check-input" type="checkbox">
                            <label class="form-check-label" for="@role">@role</label>
                        </div>
                    }
                }
            }
        </fieldset>
        <button type="submit" class="btn btn-primary">Cập nhật</button><br /><br />
        <a href="/manage/user" class="text-primary">Hủy bỏ</a>
    </form>
</div>

@section Scripts{
    <partial name="_ValidationScriptsPartial"></partial>
}